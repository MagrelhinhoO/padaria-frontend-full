{"ast":null,"code":"import Swal from 'sweetalert2';\nimport { Observable } from 'rxjs';\nexport const ErrorInterceptor = (req, next) => {\n  return next(req).pipe(source => new Observable(subscriber => {\n    source.subscribe({\n      next: v => subscriber.next(v),\n      error: err => {\n        const body = err.error;\n        if (body?.message) {\n          if (Array.isArray(body.errors) && body.errors.length) {\n            const list = body.errors.map(e => `<li>${e.field}: ${e.message}</li>`).join('');\n            Swal.fire('Erro', `${body.message}<ul>${list}</ul>`, 'error');\n          } else {\n            Swal.fire('Erro', body.message, 'error');\n          }\n        } else {\n          Swal.fire('Erro', 'Falha inesperada no servidor', 'error');\n        }\n        subscriber.error(err);\n      },\n      complete: () => subscriber.complete()\n    });\n  }));\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}