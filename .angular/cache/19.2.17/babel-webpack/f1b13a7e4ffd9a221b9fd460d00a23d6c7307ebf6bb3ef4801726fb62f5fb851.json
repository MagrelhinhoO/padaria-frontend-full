{"ast":null,"code":"import { signal } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nconst TOKEN_KEY = 'auth_token';\nconst ROLES_KEY = 'auth_roles';\nconst NAME_KEY = 'auth_name';\nexport let TokenService = /*#__PURE__*/(() => {\n  class TokenService {\n    _token = signal(this.getToken());\n    _roles = signal(this.getRoles());\n    setSession(token, roles, name) {\n      localStorage.setItem(TOKEN_KEY, token);\n      localStorage.setItem(ROLES_KEY, JSON.stringify(roles));\n      localStorage.setItem(NAME_KEY, name);\n      this._token.set(token);\n      this._roles.set(roles);\n    }\n    clear() {\n      localStorage.removeItem(TOKEN_KEY);\n      localStorage.removeItem(ROLES_KEY);\n      localStorage.removeItem(NAME_KEY);\n      this._token.set(null);\n      this._roles.set([]);\n    }\n    get token() {\n      return this._token();\n    }\n    get roles() {\n      return this._roles();\n    }\n    hasRole(role) {\n      return this._roles().includes(role);\n    }\n    getToken() {\n      return localStorage.getItem(TOKEN_KEY);\n    }\n    getRoles() {\n      try {\n        return JSON.parse(localStorage.getItem(ROLES_KEY) || '[]');\n      } catch {\n        return [];\n      }\n    }\n    static ɵfac = function TokenService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TokenService)();\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: TokenService,\n      factory: TokenService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return TokenService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}